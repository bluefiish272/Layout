@{
    ViewData["Title"] = "QA";
}

<div class="base-container">
    <div class="accordion-container">
        @for (int i = 0; i < 10; i++)
        {
            <div class="accordion-item">
                <div class="accordion-title">
                    <span class="title-text">
                        @($"標題{i}")
                    </span>
                </div>
                <div class="accordion-content">
                    @($"這裡是完整的內容_{i}")
                </div>
            </div>
        }
    </div>
</div>

@section Scripts{
    <script>
        $(function () {
            $(document).on('click','.accordion-title', function () {
                clickAccordionTitle($(this));
            })

            initialAccordion();

            function clickAccordionTitle(element) {
                var $thisItem = $(element).parents('.accordion-item');
                var $thisTitle = $thisItem.find('.accordion-title');
                var $thisContent = $thisItem.find('.accordion-content');
                var contentDisplay = $thisContent.css('display');
                if (contentDisplay == 'none') {
                    $('.accordion-content').hide();
                    $thisContent.show();
                }
                else if (contentDisplay == 'block'){
                    $thisContent.hide();
                }
                $thisTitle.find('.title-text').toggleClass('show-icon');
            }

            function initialAccordion() {
                $('.accordion-title').eq(0).click();
            }
        })
    </script>
}